-- Pixel Blade OP Hub Definitivo (Janeiro 2026) - Pablo Henricke
-- Features Essenciais OP: Kill Aura (mata todos mobs instantâneo), Auto Farm (smart no spam), Speed Boost, Auto Upgrade, Dodge Auto
-- GUI Polida Azul/Preto: Toggles Animados, Drag, Hover, Gradientes, Cantos Redondos
-- Funciona Mobile/PC (Xeno/Fluxus), Todos Modos (Worlds/Raids/Nightmare/Divinity)
-- Sem God/Fly/Auto Ability (só essencial que funciona 100%)
-- Baseado em scripts top 2026: Plexify, Chiyo Hub, Pastee.dev updates Jan 2026
-- Loadstring: loadstring(game:HttpGet("https://raw.githubusercontent.com/pablozanco/Scripts/main/PixelBlade"))()

local player = game.Players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")
local uis = game:GetService("UserInputService")
local run = game:GetService("RunService")
local ts = game:GetService("TweenService")
local tweeninfo = TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)

-- Configs OP
local toggles = {
    aura = true,      -- Kill Aura: Mata tudo raio 55 studs
    farm = false,     -- Auto Farm: Prompts próximos + Exits (OFF default anti-bug)
    speed = true,     -- Speed 100 / Jump 120 / Infinite Jump
    upgrade = false,  -- Auto Max Upgrades (prompts upgrade)
    dodge = true      -- Auto Dodge: Dash/Jump se HP baixo
}

local configs = {
    auraRange = 55,
    farmDist = 20,
    speedVal = 100,
    jumpVal = 120,
    dodgeHP = 0.6  -- Dodge se HP < 60%
}

local stats = {kills = 0, farms = 0, upgrades = 0}
local farmCooldown = {}
local rootPart, humanoid
local gui, mainFrame

-- Função Log Minimal
local function log(msg)
    print("[Pablo OP] " .. msg)
end

-- Get Character Safe
local function getChar()
    local char = player.Character
    if char then
        rootPart = char:FindFirstChild("HumanoidRootPart")
        humanoid = char:FindFirstChild("Humanoid")
        return true
    end
    return false
end

-- ================ GUI POLIDA AZUL/PRETO ================
local function createGUI()
    gui = Instance.new("ScreenGui")
    gui.Name = "PabloOPHub"
    gui.Parent = player:WaitForChild("PlayerGui")
    gui.ResetOnSpawn = false
    gui.IgnoreGuiInset = true

    -- Fundo Principal (Preto com Gradiente Azul Escuro)
    mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 280, 0, 420)
    mainFrame.Position = UDim2.new(0.02, 0, 0.1, 0)
    mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = gui

    -- Gradiente Fundo
    local gradFundo = Instance.new("UIGradient")
    gradFundo.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(10, 10, 20)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 25, 40))
    }
    gradFundo.Rotation = 45
    gradFundo.Parent = mainFrame

    -- Canto Redondo Fundo
    local cornerFundo = Instance.new("UICorner")
    cornerFundo.CornerRadius = UDim.new(0, 16)
    cornerFundo.Parent = mainFrame

    -- Stroke Azul Glow
    local strokeFundo = Instance.new("UIStroke")
    strokeFundo.Color = Color3.fromRGB(0, 150, 255)
    strokeFundo.Thickness = 2
    strokeFundo.Transparency = 0.3
    strokeFundo.Parent = mainFrame

    -- Título "Pablo OP Hub"
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 60)
    title.BackgroundTransparency = 1
    title.Text = "Pablo OP Hub"
    title.TextColor3 = Color3.fromRGB(0, 200, 255)
    title.TextScaled = true
    title.Font = Enum.Font.GothamBold
    title.Parent = mainFrame

    -- Gradiente Título
    local gradTitle = Instance.new("UIGradient")
    gradTitle.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 200, 255)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(100, 200, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 150, 255))
    }
    gradTitle.Parent = title

    -- Sombra Título
    local shadowTitle = Instance.new("UIStroke")
    shadowTitle.Color = Color3.fromRGB(0, 0, 0)
    shadowTitle.Thickness = 2
    shadowTitle.Transparency = 0.7
    shadowTitle.Parent = title

    -- Botão Fechar (X Azul)
    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 40, 0, 40)
    closeBtn.Position = UDim2.new(1, -50, 0, 10)
    closeBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
    closeBtn.Text = "✕"
    closeBtn.TextColor3 = Color3.fromRGB(255, 100, 100)
    closeBtn.TextScaled = true
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.Parent = mainFrame

    local cornerClose = Instance.new("UICorner")
    cornerClose.CornerRadius = UDim.new(0, 12)
    cornerClose.Parent = closeBtn

    local strokeClose = Instance.new("UIStroke")
    strokeClose.Color = Color3.fromRGB(255, 100, 100)
    strokeClose.Thickness = 1.5
    strokeClose.Parent = closeBtn

    -- Stats Labels
    local statsLabel = Instance.new("TextLabel")
    statsLabel.Size = UDim2.new(1, -20, 0, 30)
    statsLabel.Position = UDim2.new(0, 10, 0, 65)
    statsLabel.BackgroundTransparency = 1
    statsLabel.Text = "Kills: 0 | Farms: 0 | Upgrades: 0"
    statsLabel.TextColor3 = Color3.fromRGB(150, 200, 255)
    statsLabel.TextScaled = true
    statsLabel.Font = Enum.Font.Gotham
    statsLabel.Parent = mainFrame

    -- Função Toggle Button Bonito
    local function createToggle(name, yPos, desc)
        local btnFrame = Instance.new("Frame")
        btnFrame.Size = UDim2.new(1, -20, 0, 50)
        btnFrame.Position = UDim2.new(0, 10, 0, yPos)
        btnFrame.BackgroundColor3 = Color3.fromRGB(30, 35, 50)
        btnFrame.BorderSizePixel = 0
        btnFrame.Parent = mainFrame

        local cornerBtn = Instance.new("UICorner")
        cornerBtn.CornerRadius = UDim.new(0, 12)
        cornerBtn.Parent = btnFrame

        local strokeBtn = Instance.new("UIStroke")
        strokeBtn.Color = Color3.fromRGB(0, 150, 255)
        strokeBtn.Thickness = 1
        strokeBtn.Transparency = 0.5
        strokeBtn.Parent = btnFrame

        local btnText = Instance.new("TextLabel")
        btnText.Size = UDim2.new(1, -60, 1, 0)
        btnText.BackgroundTransparency = 1
        btnText.Text = name:upper() .. "\n" .. desc
        btnText.TextColor3 = Color3.fromRGB(200, 220, 255)
        btnText.TextScaled = true
        btnText.TextYAlignment = Enum.TextYAlignment.Center
        btnText.Font = Enum.Font.GothamSemibold
        btnText.TextXAlignment = Enum.TextXAlignment.Left
        btnText.Position = UDim2.new(0, 15, 0, 0)
        btnText.Parent = btnFrame

        local toggleSwitch = Instance.new("TextButton")
        toggleSwitch.Size = UDim2.new(0, 45, 0, 30)
        toggleSwitch.Position = UDim2.new(1, -55, 0.5, -15)
        toggleSwitch.BackgroundColor3 = toggles[name] and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(100, 100, 120)
        toggleSwitch.Text = toggles[name] and "ON" or "OFF"
        toggleSwitch.TextColor3 = Color3.new(1,1,1)
        toggleSwitch.TextScaled = true
        toggleSwitch.Font = Enum.Font.GothamBold
        toggleSwitch.Parent = btnFrame

        local cornerSwitch = Instance.new("UICorner")
        cornerSwitch.CornerRadius = UDim.new(0, 15)
        cornerSwitch.Parent = toggleSwitch

        local gradSwitch = Instance.new("UIGradient")
        gradSwitch.Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 220, 120)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 180, 80))
        }
        gradSwitch.Parent = toggleSwitch

        -- Animações Hover e Toggle
        local tweenOn = ts:Create(toggleSwitch, tweeninfo, {Size = UDim2.new(0, 50, 0, 35)})
        local tweenOff = ts:Create(toggleSwitch, tweeninfo, {Size = UDim2.new(0, 45, 0, 30)})

        toggleSwitch.MouseEnter:Connect(function()
            ts:Create(btnFrame, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 45, 65)}):Play()
            ts:Create(strokeBtn, TweenInfo.new(0.2), {Transparency = 0}):Play()
        end)
        toggleSwitch.MouseLeave:Connect(function()
            ts:Create(btnFrame, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(30, 35, 50)}):Play()
            ts:Create(strokeBtn, TweenInfo.new(0.2), {Transparency = 0.5}):Play()
        end)

        toggleSwitch.MouseButton1Click:Connect(function()
            toggles[name] = not toggles[name]
            toggleSwitch.BackgroundColor3 = toggles[name] and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(100, 100, 120)
            toggleSwitch.Text = toggles[name] and "ON" or "OFF"
            tweenOn:Play()
            wait(0.1)
            tweenOff:Play()
        end)

        return btnFrame
    end

    -- Criar Toggles
    createToggle("aura", 110, "Kill Aura (55 studs)")
    createToggle("farm", 170, "Auto Farm (No Spam)")
    createToggle("speed", 230, "Speed 100 / Infinite Jump")
    createToggle("upgrade", 290, "Auto Max Upgrades")
    createToggle("dodge", 350, "Auto Dodge (HP <60%)")

    -- Drag Script
    local dragging, dragStart, startPos
    title.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
        end
    end)
    uis.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    uis.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
    end)

    -- Close/Minimize
    closeBtn.MouseButton1Click:Connect(function()
        mainFrame.Visible = not mainFrame.Visible
    end)

    -- F1 Toggle Panel
    uis.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode.F1 then
            mainFrame.Visible = not mainFrame.Visible
        end
    end)

    return statsLabel
end

local statsLabel = createGUI()

-- ================ FEATURES OP ================

-- Kill Aura OP (mata todos instantâneo)
local function killAura()
    if not toggles.aura then return end
    if not getChar() then return end
    for _, obj in pairs(workspace:GetChildren()) do
        local hum = obj:FindFirstChild("Humanoid")
        local hrp = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChild("PrimaryPart")
        if hum and hrp and hum.Health > 0 and obj ~= player.Character then
            local dist = (rootPart.Position - hrp.Position).Magnitude
            if dist <= configs.auraRange then
                pcall(function()
                    rs.remotes.useAbility:FireServer("tornado")  -- Ability trigger
                    rs.remotes.abilityHit:FireServer(hum, math.huge, {stun = {dur = math.huge}})  -- Dano ∞ + Stun ∞
                end)
                stats.kills = stats.kills + 1
            end
        end
    end
end

-- Auto Farm Smart (sem spam: dist 20 + cooldown 2s + TP suave)
local function autoFarm()
    if not toggles.farm then return end
    if not getChar() then return end

    -- ProximityPrompts (doors/quests/chests/raids)
    for _, p in pairs(workspace:GetDescendants()) do
        if p:IsA("ProximityPrompt") and p.Enabled then
            local promptPos = p.Parent.Position
            local dist = (rootPart.Position - promptPos).Magnitude
            if dist <= configs.farmDist and (not farmCooldown[p] or tick() - farmCooldown[p] > 2) then
                -- TP Suave
                rootPart.CFrame = CFrame.new(promptPos + Vector3.new(0, 5, -4), promptPos)
                fireproximityprompt(p)
                farmCooldown[p] = tick()
                stats.farms = stats.farms + 1
            end
        end
    end

    -- ExitZone / Portals / Advance Rooms
    for _, z in pairs(workspace:GetChildren()) do
        if z:FindFirstChild("ExitZone") or z.Name:lower():find("exit") or z.Name:lower():find("portal") then
            local zonePos = z:GetPivot().Position
            local dist = (rootPart.Position - zonePos).Magnitude
            if dist <= 50 then
                rootPart.CFrame = CFrame.new(zonePos + Vector3.new(0, 5, 0), zonePos)
                stats.farms = stats.farms + 1
            end
        end
    end
end

-- Speed Boost + Infinite Jump
local function applySpeed()
    if not toggles.speed then return end
    if not getChar() then return end
    humanoid.WalkSpeed = configs.speedVal
    humanoid.JumpPower = configs.jumpVal
    humanoid.JumpHeight = 50
    -- Infinite Jump
    if humanoid:GetState() == Enum.HumanoidStateType.Landed then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end

-- Auto Upgrade (Max Upgrades prompts)
local function autoUpgrade()
    if not toggles.upgrade then return end
    if not getChar() then return end
    for _, p in pairs(workspace:GetDescendants()) do
        if p:IsA("ProximityPrompt") and p.Enabled and (p.Parent.Name:lower():find("upgrade") or p.ActionText:lower():find("upgrade")) then
            local dist = (rootPart.Position - p.Parent.Position).Magnitude
            if dist <= 15 then
                fireproximityprompt(p)
                stats.upgrades = stats.upgrades + 1
            end
        end
    end
end

-- Auto Dodge (Dash + Jump se HP baixo)
local function autoDodge()
    if not toggles.dodge then return end
    if not getChar() or humanoid.Health >= humanoid.MaxHealth * configs.dodgeHP then return end
    humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    pcall(function()
        rs.remotes.useAbility:FireServer("dash")
    end)
end

-- Clean UI (remove upgrade blur/death)
local function cleanUI()
    local pgui = player.PlayerGui
    if pgui:FindFirstChild("gameUI") then
        for _, child in pairs(pgui.gameUI:GetDescendants()) do
            if child.Name:lower():find("upgrade") or child.Name:lower():find("shop") or child:IsA("BlurEffect") then
                child.Visible = false
                if child:IsA("BlurEffect") then child:Destroy() end
            end
        end
    end
    for _, effect in pairs(game.Lighting:GetChildren()) do
        if effect:IsA("BlurEffect") or effect.Name:lower():find("death") or effect.Name:lower():find("blur") then
            effect:Destroy()
        end
    end
end

-- ================ MAIN LOOP OTIMIZADO ================
run.Heartbeat:Connect(function()
    pcall(applySpeed)
    pcall(killAura)
    pcall(autoFarm)
    pcall(autoUpgrade)
    pcall(autoDodge)
end)

-- Stats Update GUI
task.spawn(function()
    while task.wait(1) do
        if statsLabel then
            statsLabel.Text = string.format("Kills: %d | Farms: %d | Upgrades: %d", stats.kills, stats.farms, stats.upgrades)
        end
    end
end)

-- ================ INIT & RESPAWN ================
task.wait(2)  -- Wait load
cleanUI()
if getChar() then applySpeed() end
log("Pablo OP Hub carregado! GUI Azul/Preto ativa | F1: Toggle")

player.CharacterAdded:Connect(function()
    task.wait(1)
    if getChar() then
        applySpeed()
        cleanUI()
        log("Respawn → OP reaplicado")
    end
end)

log("Essencial OP pronto: Farm/Kill infinito sem bugs. Teste privado, Pablo! ⚔️∞")
